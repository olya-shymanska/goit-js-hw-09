{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n    email: \"\",\n    message: \"\",\n};\n\nconst feedbackForm = document.querySelector(\".js-feedback-form\");\n\nconst fillForm = () => {\n    try {\n         if (localStorage.length === 0) {\n            return;\n        };\n        const formDataFromLs = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n\n        formData = formDataFromLs;\n\n        for (const key in formDataFromLs) {\n            feedbackForm.elements[key].value = formDataFromLs[key];\n        }\n    } catch (error) {\n        console.log(error);\n    };\n};\n\nfillForm();\n\nconst onFormInput = event => {\n    const formFieldEl = event.target;\n    const formFieldElValue = formFieldEl.value;\n    const formFieldName = formFieldEl.name;\n\n    formData[formFieldName] = formFieldElValue;\n\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n    event.preventDefault();\n\n    const hasEmptyFields = Object.values(formData).some(value => value === '');\n    \n    if (hasEmptyFields) {\n        alert('Please fill all fields');\n    } else {\n        console.log(formData);\n\n        const formEl = event.currentTarget;\n        formEl.reset();\n        localStorage.removeItem(\"feedback-form-state\");\n        formData.email = \"\";\n        formData.message = \"\";\n    }\n};\n\nfeedbackForm.addEventListener('input', onFormInput);\nfeedbackForm.addEventListener('submit', onFormSubmit)"],"names":["formData","feedbackForm","fillForm","formDataFromLs","key","error","onFormInput","event","formFieldEl","formFieldElValue","formFieldName","onFormSubmit","value"],"mappings":"oDAAA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAe,SAAS,cAAc,mBAAmB,EAEzDC,EAAW,IAAM,CACnB,GAAI,CACC,GAAI,aAAa,SAAW,EACzB,OAEJ,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE7EH,EAAWG,EAEX,UAAWC,KAAOD,EACdF,EAAa,SAASG,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAE5D,OAAQC,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACzB,CACA,EAEAH,IAEA,MAAMI,EAAcC,GAAS,CACzB,MAAMC,EAAcD,EAAM,OACpBE,EAAmBD,EAAY,MAC/BE,EAAgBF,EAAY,KAElCR,EAASU,CAAa,EAAID,EAE1B,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACxE,EAEMW,EAAeJ,GAAS,CAC1BA,EAAM,eAAc,EAEG,OAAO,OAAOP,CAAQ,EAAE,KAAKY,GAASA,IAAU,EAAE,EAGrE,MAAM,wBAAwB,GAE9B,QAAQ,IAAIZ,CAAQ,EAELO,EAAM,cACd,MAAK,EACZ,aAAa,WAAW,qBAAqB,EAC7CP,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAE3B,EAEAC,EAAa,iBAAiB,QAASK,CAAW,EAClDL,EAAa,iBAAiB,SAAUU,CAAY"}